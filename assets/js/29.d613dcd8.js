(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{606:function(s,a,e){"use strict";e.r(a);var t=e(10),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"npm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[s._v("#")]),s._v(" npm")]),s._v(" "),e("ul",[e("li",[s._v("NODE Package Manager，Node包管理工具")]),s._v(" "),e("li",[s._v("npm基于NODE，想要使用需要node环境")]),s._v(" "),e("li",[e("code",[s._v("registry")]),s._v("：npm包存储仓库")])]),s._v(" "),e("h2",{attrs:{id:"npm配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm配置文件"}},[s._v("#")]),s._v(" npm配置文件")]),s._v(" "),e("ul",[e("li",[s._v("事实上，我们每一个项目都会有一个对应的配置文件，无论是前端项目(Vue、React )还是后端项目( Node ) ;")]),s._v(" "),e("li",[s._v("这个配置文件会记录着你项目的名称、版本号、项目描述等;")]),s._v(" "),e("li",[s._v("也会记录着你项目所依赖的其他库的信息和依赖库的版本号;")])]),s._v(" "),e("p",[e("strong",[s._v("生成配置文件")])]),s._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[s._v("npm init \nnpm init "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#表示所有询问默认yes")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"package-json文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#package-json文件"}},[s._v("#")]),s._v(" package.json文件")]),s._v(" "),e("ul",[e("li",[s._v("实行"),e("code",[s._v("npm init")]),s._v("命令生成")]),s._v(" "),e("li",[s._v("通过脚手架创建，如"),e("code",[s._v("vue")]),s._v("和"),e("code",[s._v("react")]),s._v("脚手架生成")])]),s._v(" "),e("h3",{attrs:{id:"属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[s._v("#")]),s._v(" 属性")]),s._v(" "),e("p",[e("strong",[s._v("必填属性：name、version")])]),s._v(" "),e("ul",[e("li",[s._v("name是项目的名称;")]),s._v(" "),e("li",[s._v("version是当前项目的版本号;")]),s._v(" "),e("li",[s._v("description是描述信息，很多时候是作为项目的基本描述;")]),s._v(" "),e("li",[s._v("author是作者相关信息（发布时用到);")]),s._v(" "),e("li",[s._v("license是开源协议（发布时用到) ;")])]),s._v(" "),e("p",[e("strong",[s._v("private属性")])]),s._v(" "),e("ul",[e("li",[s._v("记录项目是否是私有的")]),s._v(" "),e("li",[s._v("当为"),e("code",[s._v("true")]),s._v("时，"),e("code",[s._v("npm")]),s._v("是不能发布的 禁止 "),e("code",[s._v("npm publish")])])]),s._v(" "),e("p",[e("font",{attrs:{color:"orange"}},[e("strong",[s._v("常见属性")])])],1),s._v(" "),e("p",[e("code",[s._v("main")]),s._v("属性")]),s._v(" "),e("p",[s._v("程序的入口文件")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("这个入口和"),e("code",[s._v("webpack")]),s._v("打包的入口并不冲突;它是在你发布一个模块的时候会用到的;")])]),s._v(" "),e("li",[e("p",[s._v("比如我们使用axios模块const axios = require('axios');")])]),s._v(" "),e("li",[e("p",[s._v("实际上是找到对应的main属性查找文件的;")])]),s._v(" "),e("li",[e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src/main.js"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li")]),s._v(" "),e("p",[e("code",[s._v("script")]),s._v(" 属性")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"script"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"serve"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[s._v("npm run dev\t\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#执行的是 package.json文件script属性的脚本 ")]),s._v("\nnpm run serve\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("code",[s._v("npm start")]),s._v(" 和 "),e("code",[s._v("npm run start")]),s._v("是等价的，常用的可以省略"),e("code",[s._v("run")])]),s._v(" "),e("p",[e("strong",[s._v("npm install")])]),s._v(" "),e("p",[s._v("执行"),e("code",[s._v("npm install")]),s._v("指令时，npm工具会从"),e("code",[s._v("package.json")]),s._v("的"),e("code",[s._v("dependencies")]),s._v("属性读取所需要下载的包")]),s._v(" "),e("p",[s._v("如果我们安装一个第三方包它也依赖了其他其他包，也会写在"),e("code",[s._v("node_modules")]),s._v("内，且也会写入"),e("code",[s._v("dependencies")]),s._v("内")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("npm i axios -D")]),s._v("：写入"),e("code",[s._v("devDependencies")])]),s._v(" "),e("li",[e("code",[s._v("npm i axios -S")]),s._v("：写入"),e("code",[s._v("dependencies")])])]),s._v(" "),e("p",[e("strong",[s._v("peerDependencies")])]),s._v(" "),e("p",[s._v("记录对等依赖属性")]),s._v(" "),e("p",[s._v("想要使用"),e("code",[s._v("elementplus")]),s._v("包必须有具有vue3的包，安装时会检查"),e("strong",[s._v("peerDependencies")]),s._v("有没有相应的包")]),s._v(" "),e("img",{staticStyle:{zoom:"87%"},attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202202151708273.png",alt:"image-20220215170829183"}}),s._v(" "),e("p",[e("strong",[s._v("engin属性")])]),s._v(" "),e("p",[s._v("引擎配置，如指定node版本或操作系统")]),s._v(" "),e("p",[e("strong",[s._v("browserslist属性")])]),s._v(" "),e("p",[s._v("浏览器配置文件，也可以创建后缀为browserslist的文件")]),s._v(" "),e("p",[e("strong",[s._v("gitnore")])]),s._v(" "),e("p",[s._v("填写不git上传的文件")]),s._v(" "),e("hr"),s._v(" "),e("h2",{attrs:{id:"依赖的版本管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#依赖的版本管理"}},[s._v("#")]),s._v(" 依赖的版本管理")]),s._v(" "),e("p",[e("font",{attrs:{color:"orange"}},[s._v("npm包的版本号格式为主版本号、次版本号、修订号")])],1),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202202152122749.png",alt:"image-20220215212248592"}})]),s._v(" "),e("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202202152124590.png",alt:"image-20220215212401533"}}),s._v(" "),e("h3",{attrs:{id:"package-lock-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#package-lock-json"}},[s._v("#")]),s._v(" package-lock-json")]),s._v(" "),e("p",[s._v("规定死安装的版本号")]),s._v(" "),e("h2",{attrs:{id:"npm安装原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm安装原理"}},[s._v("#")]),s._v(" npm安装原理")]),s._v(" "),e("p",[s._v("执行安装指令时，会从npm的代码库"),e("code",[s._v("registry")]),s._v("下载压缩包")]),s._v(" "),e("p",[s._v("实际安装时会去读取配置文件，如果发现本地缓存的包版本一致，直接从缓存拉取解压安装，如果不匹配再去服务器下载。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202202152144065.png",alt:"image-20220215214449931"}})]),s._v(" "),e("p",[e("strong",[s._v("如果没有lock文件")])]),s._v(" "),e("ul",[e("li",[s._v("会查找package.json，根据 ^ ~ 安装允许的最新的版本且更新package-lock.json")])]),s._v(" "),e("p",[e("strong",[s._v("如果已经有lock文件")])]),s._v(" "),e("ul",[e("li",[s._v("安装的包我们指定了版本，发现版本不一致，会下载最新的版本或指定的版本，重新构建依赖关系")]),s._v(" "),e("li",[s._v("如果版本一致，会去查找缓存 （package-lock.json文件会记录指定安装包的索引）")]),s._v(" "),e("li",[s._v("lock文件主要目的是安装包时查找最终下载的包是否匹配本地缓存有的包，如果匹配就直接在本地缓存拿，不匹配就下载最新重构依赖关系")])]),s._v(" "),e("h2",{attrs:{id:"命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[s._v("#")]),s._v(" 命令")]),s._v(" "),e("ol",[e("li",[s._v("npm cache clean")]),s._v(" "),e("li",[s._v("npm uninstall package")]),s._v(" "),e("li",[s._v("npm uninstall package --save-dev")])]),s._v(" "),e("h1",{attrs:{id:"yarn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[s._v("#")]),s._v(" yarn")]),s._v(" "),e("p",[s._v("​\tyarn是为了解决早期npm安装速度慢、版本混乱等问题")]),s._v(" "),e("h2",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[s._v("yarn init "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("yarn的lock文件跟npm不同，是yarn.lock文件"),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202202152207319.png",alt:"image-20220215220724997"}})]),s._v(" "),e("p",[s._v("不要"),e("code",[s._v("npm")]),s._v("和"),e("code",[s._v("yarn")]),s._v("同时混用")]),s._v(" "),e("h1",{attrs:{id:"cnpm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cnpm"}},[s._v("#")]),s._v(" cnpm")]),s._v(" "),e("p",[s._v("​\t\t淘宝对"),e("code",[s._v("registry")]),s._v("的镜像，与国外的代码库有一定的延迟，可能没有一些较久远的版本")]),s._v(" "),e("p",[s._v("​\t\t一般使用cnpm工具安装来安装淘宝镜像，不直接修改npm的config")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202202152209276.png",alt:"image-20220215220923221"}})]),s._v(" "),e("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202202152213585.png",alt:"image-20220215221346443"}}),s._v(" "),e("h1",{attrs:{id:"发布自己的包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发布自己的包"}},[s._v("#")]),s._v(" 发布自己的包")]),s._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[s._v("npm init  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#初始化 项目名不要中文")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MIT"')]),s._v(" \t开源协议\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[s._v("npm publish"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#发布")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[s._v("npm unpublish\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除发布包")]),s._v("\nnpm deprecate\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#让发布包过期")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);