(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{662:function(t,a,r){"use strict";r.r(a);var s=r(10),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"渲染层-渲染对象"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#渲染层-渲染对象"}},[t._v("#")]),t._v(" 渲染层&渲染对象")]),t._v(" "),r("p",[t._v("每个DOM结点对应一个渲染对象，渲染对象通过向绘图上下文绘制DOM结点。处在同个z轴坐标空间的渲染对象属于同一个渲染层。渲染层通过层合成来保证了不同渲染对象之间正确的层叠关系。对于满足形成层叠上下文条件的渲染对象，浏览器会自动为其创建新的渲染层。")]),t._v(" "),r("p",[t._v("开启新渲染层的条件：根元素（document）、有明确的定位属性（absoblute）")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202203260115776.webp",alt:"img"}})]),t._v(" "),r("h1",{attrs:{id:"图形层"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#图形层"}},[t._v("#")]),t._v(" 图形层")]),t._v(" "),r("p",[t._v("图形层是负责生成最后呈现内容的层模型，图形层通过图形上下文输出这个图形层的位图，位图存储在共享内存，通过GPU对位图合成最后绘制在屏幕上。")]),t._v(" "),r("p",[t._v("图形层不直接处理渲染层，而是处理合成层")]),t._v(" "),r("h1",{attrs:{id:"合成层"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#合成层"}},[t._v("#")]),t._v(" 合成层")]),t._v(" "),r("p",[t._v("对于满足特殊条件的渲染层会被自动提升为层模型（比如动画），拥有自己的图形层，而其他不是合成层的渲染层，则和其第一个拥有 GraphicsLayer 的父层共用一个。之所以建议同个transform:translatex来让元素居中就是因为这样会让目标元素被提升成合成层，用于自己的图形层，从而开启GPU加速。")]),t._v(" "),r("p",[t._v("渲染层被单独提升为合成层的条件：动画、video标签、canvas等")]),t._v(" "),r("h1",{attrs:{id:"隐式合成-层爆炸"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#隐式合成-层爆炸"}},[t._v("#")]),t._v(" 隐式合成&层爆炸")]),t._v(" "),r("p",[t._v("比如两个绝对定位的div在屏幕上重叠了，而z-index低的被设置了transform：translate\n属性，从而被提升为单独的合成层，但本应该在上的div由于仍与父元素共享一个图形层\n导致层叠关系错误，为了解决这个问题，浏览器会将本应该在上面的渲染层也提升为合\n成层。")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202203260113187.webp",alt:"img"}})]),t._v(" "),r("p",[r("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/FrancisSaber/image/markdown-Image202203260113495.webp",alt:"img"}})]),t._v(" "),r("p",[t._v("由于程序员的某些操作，会导致浏览器自动进行了隐式合成，导致出现不在预期内的合\n成层的出现，当达到一定数量级就会变成层爆炸。层爆炸会占用 GPU 和大量的内存资源，严重损耗页面性能")]),t._v(" "),r("p",[t._v("https://juejin.cn/post/6844903966573068301#heading-7")])])}),[],!1,null,null,null);a.default=e.exports}}]);